<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>图片懒加载</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        img {
            display: block;
            border: none;
        }

        .banner {
            margin: 10px auto;
            width: 500px;
            height: 300px;
            border: 1px solid green;
            background: url("img/default.gif") no-repeat center center #e1e1e1;
        }

        .banner img {
            display: none;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div class="banner" id="banner">
    <img src=""/>
</div>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript">
    var banner = document.getElementById("banner");
    var bannerImg = banner.getElementsByTagName("img")[0];


    var oImg = new Image;
    oImg.src = "img/jd.jpg";//->一但赋值地址:就开始加载真实的图片了,加载图片是需要时间的(假设需要1s中)
    oImg.onload = function () {//->onload行为需要1s后执行(我们假设的加载完成时间就是1s)
        console.log("加载完成...");//->2
        bannerImg.src = this.src;
        bannerImg.style.display = "block";
    };
    console.log("加载中...");//->1

    //    function lazyImg() {
    //        var oImg = new Image;
    //        oImg.src = "img/jd.jpg";//->一但赋值地址:就开始加载真实的图片了,加载图片是需要时间的(假设需要1s中)
    //        oImg.onload = function () {//->onload行为需要1s后执行(我们假设的加载完成时间就是1s)
    //            console.log("加载完成...");//->2
    //            bannerImg.src = this.src;
    //            bannerImg.style.display = "block";
    //        };
    //        console.log("加载中...");//->1
    //       }
    //
    //    window.setTimeout(lazyImg, 1000);


    //同步/异步编程
    //同步->上面的事情都做完了,才能继续处理下面的事情 JS中大部分都是同步编程
    console.time();
    for (var i = 0; i < 100000; i++) {
        if (i === 99999) {
            console.log("最后一次");//->1
        }
    }
    console.timeEnd();
    console.log("我是循环外面的");//->2 只有等上面的循环都完成后才会执行这句话

    //异步->如果上面的事情处于等待处理中(等待是需要时间的),我们不干等着,继续执行下面的代码,下面的代码执行完成了,在返回头看时间有没有到,到了就执行上面的事情
    //->所有的事件绑定都是异步编程
    //->所有的定时器都是异步编程的
    //    var n = 0;
    //    window.setTimeout(function () {
    //        console.log(++n);//->(2) 1
    //    }, 1000);
    //    console.log(n);//->(1) 0
</script>
</body>
</html>