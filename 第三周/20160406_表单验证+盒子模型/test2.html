<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .container {
            width: 50%;
            text-align: center
        }

        input {
            border: none;
            outline: none;
        }

        .container .row {
            height: 100px;
        }

       input {
            padding: 10px 0;
            width: 80%;
            height: 32px;
            line-height: 32px;

        }

        .container .row span {
            display: none;
        }

        .container .row .form {
            border: 2px solid gray;
        }

        .container .row .ok {
            border: 2px solid blue;
        }

        .container .row .error {
            border: 2px solid red;
        }

        .container label {
            width: 20%;
        }

    </style>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="form">
            <label>用户名</label><input type="text" id="userName" placeholder="请输入用户名">
        </div>
        <span id="spanName"></span>
    </div>
    <div class="row">
        <div class="form">
           <label>邮箱</label><input type="text" id="userEmail" placeholder="请输入用户名">
        </div>
        <span id="spanEmail"></span>
    </div>
    <div class="row">
        <div class="form">
          <label>手机号</label><input type="text" id="userPhone" placeholder="请输入用户名">
        </div>
        <span id="spanPhone"></span>
    </div>
    <div class="row">
        <div class="form">
           <label>身份证</label><input type="text" id="userID" placeholder="请输入用户名">
        </div>
        <span id="spanID"></span>
    </div>
    <div class="row">
        <div class="form">
            <label>密码</label><input type="text" id="userKey" placeholder="请输入用户名">
        </div>
        <span id="spanKey"></span>
    </div>
    <div class="row">
        <div class="form">
            <label>确认密码</label><input type="text" id="userSure" placeholder="请输入用户名">
        </div>
        <span id="spanSure"></span>
    </div>
</div>
<script type="text/javascript" charset="utf-8">
    ~function () {
        var userName = document.getElementById('userName'), spanName = document.getElementById('spanName'), userEmail = document.getElementById('userEmail'), spanEmail = document.getElementById('spanEmail'), userPhone = document.getElementById('userPhone'), spanPhone = document.getElementById('spanPhone'), userID = document.getElementById('userID'), spanID = document.getElementById('spanID'),userKey = document.getElementById('userKey'), spanKey = document.getElementById('spanKey'),userSure = document.getElementById('userSure'), spanSure = document.getElementById('spanSure');
        userName.onfocus = function () {
            this.parentNode.className = 'ok';
            spanName.style.display = "block";
            spanName.innerHTML = "支持中文字母数字等组合，4-20个字符";
        };
        userName.onblur=userName.onkeyup=function(){
            var val=this.value.replace(/(^ +| +$)/g,""),reg=/^([a-zA-Z0-9_]|[-]|[\u4e00-\u9fa5]){4,20}$/;
            if(!reg.test(val)||val.length===0){
                this.parentNode.className='error';
                spanName.style.display = "block";
                spanName.innerHTML = val.length===0?"支持中文字母数字等组合，4-20个字符":"格式错误";
                return;
            }
            this.parentNode.className = 'form';
            spanName.style.display = "none";
        }

        userEmail.onfocus = function () {
            this.parentNode.className = 'ok';
            spanEmail.style.display = "block";
            spanEmail.innerHTML = "请输入邮箱";
        };
        userEmail.onblur=userEmail.onkeyup=function(){
            var val=this.value.replace(/(^ +| +$)/g,""),reg=/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;

            if(!reg.test(val)||val.length===0){
                this.parentNode.className='error';
                spanEmail.style.display = "block";
                spanEmail.innerHTML = val.length===0?"请输入常用邮箱":"格式错误";
                return;
            }
            this.parentNode.className = 'form';
            spanEmail.style.display = "none";
        }

        userPhone.onfocus = function () {
            this.parentNode.className = 'ok';
            spanPhone.style.display = "block";
            spanPhone.innerHTML = "输入您的手机号码";
        };
        userPhone.onblur=userPhone.onkeyup=function(){
            var val=this.value.replace(/(^ +| +$)/g,""),reg=/^1[34578]\d{9}$/;

            if(!reg.test(val)||val.length===0){
                this.parentNode.className='error';
                spanPhone.style.display = "block";
                spanPhone.innerHTML = val.length===0?"请输入手机号码":"格式错误";
                return;
            }
            this.parentNode.className = 'form';
            spanPhone.style.display = "none";
        }

        userID.onfocus = function () {
            this.parentNode.className = 'ok';
            spanID.style.display = "block";
            spanID.innerHTML = "输入您的手机号码";
        };
        userID.onblur=userID.onkeyup=function(){
            var val=this.value.replace(/(^ +| +$)/g,""),reg=/^(?:\d{6})(\d{4})(?:\d{2})(?:\d{2})(?:\d{2})(\d)(?:\d|X)$/;

            if(!reg.test(val)||val.length===0){
                this.parentNode.className='error';
                spanID.style.display = "block";
                spanID.innerHTML = val.length===0?"请输入手机号码":"格式错误";
                return;
            }
            this.parentNode.className = 'form';
            var time=new Date();
            var year=time.getFullYear();
            spanID.innerHTML=reg.exec(val)[2]%2===0?"性别：女":"性别：男";
            spanID.innerHTML+=year-reg.exec(val)[1]+"岁";
        }

        userKey.onfocus = function () {
            this.parentNode.className = 'ok';
            spanKey.style.display = "block";
            spanKey.innerHTML = "输入您的密码";
        };
        userKey.onblur=userKey.onkeyup=function(){
            var val=this.value.replace(/(^ +| +$)/g,""),reg = /^(?!^[0-9]*$)(?!^[a-zA-Z]*$)(?!^[^a-zA-Z0-9]*$)\S{6,12}$/;

            if(!reg.test(val)||val.length===0){
                this.parentNode.className='error';
                spanKey.style.display = "block";
                spanKey.innerHTML = val.length===0?"输入您的密码":"格式错误";
                return;
            }
            this.parentNode.className = 'form';
            spanKey.style.display = "none";
        }

        userSure.onfocus = function () {
            this.parentNode.className = 'ok';
            spanSure.style.display = "block";
            spanSure.innerHTML = "再次输入密码";
        };
        userSure.onblur=userSure.onkeyup=function(){
          if(this.value===userKey.value&&this.value.length!==0){
              spanSure.innerHTML='';
              this.parentNode.className='form';
              return;
          }
            spanSure.innerHTML="两次输入密码不一致";
            this.parentNode.className='error';
        }
    }();
</script>
</body>
</html>